{% extends "base.html" %}

{% block content %}
<h1><a href="{{ url_for("read", book_url = book.url) }}">{{ book.title|safe }}</a></h1>
<h2>by <a href="{{ url_for("author", name = book.author.url) }}">{{ book.author.name|safe }}</a></h2>

<!--------------table of contents------>
<p id="meta">
{{ book.summary }}
</p>

<!--------------table of contents------>
<table class="table_of_contents">
    {% for section in heierarchy %}
        {% if section.kind.kind == 'bk' %}
            <tr class="book_contents">
                <th align="left">
                    <a href="{{ url_for("read_section", book_url=book.url, level=section.kind.kind, number=section.bk_num) }}">
                        {{ section.line }}
                    </a>
                </th>
                <th align="right">
                    <a href="{{ url_for("read_section", book_url=book.url, level=section.kind.kind, number=section.bk_num) }}">
                        {{ section.l_num }}
                    </a>
                </th>

        {% elif section.kind.kind == 'pt' %}
            <tr class="part_contents">
                <th align="left">
                    <a href="{{ url_for("read_section", book_url=book.url, level=section.kind.kind, number=section.pt_num) }}">
                        {{ section.line }}
                    </a>
                <th align="right">
                    <a href="{{ url_for("read_section", book_url=book.url, level=section.kind.kind, number=section.pt_num) }}">
                        {{ section.l_num }}
                    </a>
                </th>
        {% elif section.kind.kind == 'ch' %}
            <tr class="chapter_contents">
                <th align="left">
                    <a href="{{ url_for("read_section", book_url=book.url, level=section.kind.kind, number=section.ch_num) }}">
                        {{ section.line }}
                    </a>
                </th>
                <th align="right">
                    <a href="{{ url_for("read_section", book_url=book.url, level=section.kind.kind, number=section.ch_num) }}">
                        {{ section.l_num }}
                    </a>
                </th>
            </tr>
        {% endif %}
    {% endfor %}
        
</table>
{% endblock %}
